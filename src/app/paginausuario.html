<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Usuario | GTI</title>
    <style>
        html {
            margin: 0;
            background-color: #0d1a27;
        }
        body{
            margin:0px;
        }
        /*Aqui empieza el header*/
        header {
            height: 120px;
            width: 102%;
            background-color: #0d1a27;
            display: flex;
            justify-content: space-between;
            position: relative;
            height: 8.5rem;

        }

        .logo {
            display: flex;
            height: 100%;
            width: 60%;
        }

        .logoGti {

            text-align: left;
            background-color: white;
            text-decoration: none;
            color: white;
            font-weight: bold;
            display: block;
            flex: 1 1 0;
        }

        .triangulo {
            border-left: 5.38rem solid white;
            border-top: 4.26rem solid transparent;
            border-bottom: 4.26rem solid transparent;
            position: relative;
            left: -2px;
        }

        .menu {
            margin-left: 7px;
            margin-right: 50px;
            margin-top: 30px;
            text-align: left;
            height: 3vh;
            position: relative;
        }

        /*Aqui acaba el header*/

        h1 {
            font-family: Helvetica;
            font-size: 125px;
            color: white;

        }

        p {
            font-family: Helvetica;
            font-size: 55px;
            color: white;
            text-align: center;
            margin: 0;

        }

        .saludo {
            width: 50vw;
            height: auto;
            margin-left: 65px;
        }

        .mapaSensores {
            width: 100vw;
            height: auto;
            max-height: 50vh;
        }

        /*Aqui empieza el footer*/

        footer {
            border-top: 5px solid white;
            height: 300px;
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            bottom: 0;
            position: fixed;

        }

        .iconoFooter {
            margin-top: 20px;
            position: relative;
            height: 6.5vh;
            margin-left: 65px;
            margin-right: 65px;
        }

        .contenedorFooter {
            margin-right: 35px;
        }
        #map {
            width: 960px;
            height: 60vh;
            border: solid 5px white;
            margin-left: 16px;
        }


    </style>
</head>
<body>
<!-- Aqui empieza el header, que es comun en casi todas las paginas de la web -->
<header>
    <a href="index.html" class="logo"><img src="icon/logoGTI.svg" class="logoGti"><span class="triangulo"></span></a>
    <div><a href="index.html#indice"><img src="icon/menu_blanco.png" class="menu"></a></div>
</header>
<article class="saludo">
    <h1> Hola <?php $Nombre=tabla1.usuario; echo($Nombre) ?></h1>
</article>
<section id="map"></section>
<button onclick="addMarker()">AÃ±adir</button>
<input type="number" id="lat">
<input type="number" id="lng">
<script>
    let map;
    function initMap() {
        //console.log("Google Maps cargado!!");
        map = new google.maps.Map(document.getElementById('map'), {
            center: {lat: 38.995574, lng: -0.165385},
            zoom: 20
        });

        let polygon = new google.maps.Polygon({
            paths: [
                {lat: 38.996243, lng: -0.168021},
                {lat: 38.995574, lng: -0.165385},
                {lat: 38.99519397844055, lng: -0.16646701588141416},
                ],
            strokeColor: "#ff8000",
            strokeOpacity: 0.8,
            strokeWeight: 2,
            fillColor: "#ff8000",
            fillOpacity: 0.35,
            map: map
        });




        var marker = new google.maps.Marker({
            position:{lat: 38.996243, lng: -0.168021},
            label: "1",
            animation: google.maps.Animation.DROP,
            map: map
        });
        var markerUno = new google.maps.Marker({
            position:{lat: 38.995574, lng: -0.165385},
            label: "1",
            animation: google.maps.Animation.DROP,
            map: map
        });
        var markerDos = new google.maps.Marker({
            position:{lat: 38.99519397844055, lng: -0.16646701588141416},
            label: "1",
            animation: google.maps.Animation.DROP,
            map: map
        });
        let bounds = new google.maps.LatLngBounds();
        polygon.getPath().getArray().forEach(function (v) {
            bounds.extend(v);
        })

    map.fitBounds(bounds);
    }
    map.setTilt(0);
    map = new google.maps.Map(document.getElementById('map'), {
//...
        mapTypeId: 'hybrid',
        styles: [
            {
                featureType: 'poi',
                stylers: [{visibility: 'off'}]
            },
            {
                featureType: 'transit',
                stylers: [{visibility: 'off'}]
            }
        ],
        mapTypeControl: false,
        streetViewControl: false,
        rotateControl: false,
    });


    function addMarker(){
        let lat= parseFloat(document.getElementById('lat').value);
        let lng= parseFloat(document.getElementById('lng').value);
        let marker = new google.maps.Marker({
            position: {lat: lat, lng: lng},
            label: "1",
            animation: google.maps.Animation.DROP,
            map: map
        });
        map.panTo(marker.getPosition());
    }



</script>
<script
        src="https://maps.googleapis.com/maps/api/js?callback=initMap"
        async defer></script>
<footer>
    <div class="contenedorFooter">
        <a href="paginausuario.html"><img src="icon/mapa_color.svg" class="iconoFooter"></a>
        <p>Sensores</p>
    </div>
    <div class="contenedorFooter">
        <a href="#"><img src="icon/calendario_color.svg" class="iconoFooter"></a>
        <p>Calendario</p>
    </div>
</footer>


</body>
</html>